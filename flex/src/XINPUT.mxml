<?xml version="1.0" encoding="utf-8"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009"
                       xmlns:s="library://ns.adobe.com/flex/spark"
                       xmlns:mx="library://ns.adobe.com/flex/mx"
                       width="85" height="68"
                       addedToStage="windowedapplication1_addedToStageHandler(event)"
                       close="windowedapplication1_closeHandler(event)">
    
    <fx:Script>
        <![CDATA[
            import com.amdevcorp.FREXInput.Gamepad;
            import com.amdevcorp.FREXInput.GamepadEvent;
            import com.amdevcorp.FREXInput.XINPUT_GAMEPAD;
            private var gp:Gamepad;
            private var t:Timer;
            private var flag:Boolean;
            protected function button1_clickHandler(event:MouseEvent):void
            {
                
            }
            
            protected function windowedapplication1_addedToStageHandler(event:Event):void
            {
   
                gp = new Gamepad(0);
                gp.addEventListener(GamepadEvent.PRESS,onGP);
                gp.addEventListener(GamepadEvent.STICK_MOVED,onStick);
                gp.addEventListener(GamepadEvent.TRIGGER_MOVED,onTrigger);

            }
            private function onGP(evt:GamepadEvent):void{
                trace(evt.key)
            }
            private function onStick(evt:GamepadEvent):void{
                trace(evt.state.LStick)
            }
            protected function onTrigger(evt:GamepadEvent):void
            {
                trace(evt.state.LTrigger, evt.state.RTrigger);
                
            }            
            protected function windowedapplication1_closeHandler(event:Event):void
            {
                gp._Gamepad();
                
            }
            

            
        ]]>
    </fx:Script>
    
    <fx:Declarations>
        <!-- Place non-visual elements (e.g., services, value objects) here -->
    </fx:Declarations>
</s:WindowedApplication>
